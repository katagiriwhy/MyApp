import React, { useState, useEffect } from 'react';
import { Link } from 'react-router-dom';
import './HomePage.css';

const HomePage = () => {
    const [currentReview, setCurrentReview] = useState(0);
    const [isLoggedIn, setIsLoggedIn] = useState(false);

    useEffect(() => {
        const token = localStorage.getItem('token');
        setIsLoggedIn(!!token);
    }, []);

    const reviews = [
        {
            id: 1,
            name: "–ú–∞—Ä–∏—è, –º–∞–º–∞ –°–≤–µ—Ç—ã",
            text: "–û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞ –∑–∞ –≥–æ–¥ –∑–∞–Ω—è—Ç–∏–π –ø–æ–¥—Ç—è–Ω—É–ª–∞ –º–æ—é –¥–æ—á—å –ø–æ –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ. –°–µ–π—á–∞—Å –°–≤–µ—Ç–∞ –æ–¥–Ω–∞ –∏–∑ –ª—É—á—à–∏—Ö –≤ –∫–ª–∞—Å—Å–µ! –°–ø–∞—Å–∏–±–æ –∑–∞ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏ —Ç–µ—Ä–ø–µ–Ω–∏–µ.",
            rating: 5
        },
        {
            id: 2,
            name: "–ê–Ω—Ç–æ–Ω, –ø–∞–ø–∞ –ú–∏—à–∏",
            text: "–†–µ–±–µ–Ω–æ–∫ —Å –Ω–µ—Ç–µ—Ä–ø–µ–Ω–∏–µ–º –∂–¥–µ—Ç –∫–∞–∂–¥–æ–µ –∑–∞–Ω—è—Ç–∏–µ. –û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞ —É–º–µ–µ—Ç –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞—Ç—å —É—á–µ–±–æ–π –¥–∞–∂–µ —Ç–∞–∫–æ–≥–æ –Ω–µ–ø–æ—Å–µ–¥—É –∫–∞–∫ –Ω–∞—à –ú–∏—à–∞. –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å—Ç–∞–ª–∏ –∑–∞–º–µ—Ç–Ω—ã —É–∂–µ —á–µ—Ä–µ–∑ –º–µ—Å—è—Ü.",
            rating: 5
        },
        {
            id: 3,
            name: "–û–∫—Å–∞–Ω–∞ –í–∏–∫—Ç–æ—Ä–æ–≤–Ω–∞",
            text: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª –≤—ã—Å—à–µ–≥–æ –∫–ª–∞—Å—Å–∞! –ì–æ—Ç–æ–≤–∏–ª–∏—Å—å –∫ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—é –≤ –≥–∏–º–Ω–∞–∑–∏—é, —É—Å–ø–µ—à–Ω–æ —Å–¥–∞–ª–∏ –≤—Å–µ —ç–∫–∑–∞–º–µ–Ω—ã. –†–µ–∫–æ–º–µ–Ω–¥—É—é –≤—Å–µ–º —Ä–æ–¥–∏—Ç–µ–ª—è–º, –∫—Ç–æ —Ö–æ—á–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–π –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –¥–ª—è —Ä–µ–±–µ–Ω–∫–∞.",
            rating: 5
        }
    ];

    useEffect(() => {
        const interval = setInterval(() => {
            setCurrentReview((prev) => (prev + 1) % reviews.length);
        }, 5000);
        return () => clearInterval(interval);
    }, [reviews.length]);

    const services = [
        {
            title: "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ",
            description: "–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–ª—è –±—É–¥—É—â–∏—Ö –ø–µ—Ä–≤–æ–∫–ª–∞—Å—Å–Ω–∏–∫–æ–≤"
        },
        {
            title: "–ü–æ–º–æ—â—å –ø–æ —à–∫–æ–ª—å–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ",
            description: "–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ–º, –ø–æ–º–æ—â—å —Å –¥–æ–º–∞—à–Ω–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏"
        },
        {
            title: "–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–µ–ª–æ–≤ –≤ –∑–Ω–∞–Ω–∏—è—Ö",
            description: "–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –∫–∞–∂–¥–æ–º—É —É—á–µ–Ω–∏–∫—É"
        },
        {
            title: "–ß–∏—Å—Ç–æ–ø–∏—Å–∞–Ω–∏–µ",
            description: "–†–∞–∑–≤–∏–≤–∞–µ–º –º–µ–ª–∫—É—é –º–æ—Ç–æ—Ä–∏–∫—É –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é, —É–ª—É—á—à–∞–µ–º –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—é –≤–Ω–∏–º–∞–Ω–∏—è –∏ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω—É, —Å–ø–æ—Å–æ–±—Å—Ç–≤—É–µ–º –ª—É—á—à–µ–º—É –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—é —Ä–∞–∑–±–æ—Ä—á–∏–≤–æ–≥–æ –ø–æ—á–µ—Ä–∫–∞"
        }
    ];

    const handleLogout = () => {
        localStorage.removeItem('token');
        setIsLoggedIn(false);
        window.location.reload();
    };

    return (
        <div className="homepage">
            <nav className="navbar">
                <div className="nav-container">
                    <div className="nav-logo">
                        <h2>–û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞</h2>
                        <span>–†–µ–ø–µ—Ç–∏—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤</span>
                    </div>
                    <div className="nav-buttons">
                        {isLoggedIn ? (
                            <>
                                <Link to="/dashboard" className="nav-btn">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</Link>
                                <button onClick={handleLogout} className="nav-btn">–í—ã–π—Ç–∏</button>
                            </>
                        ) : (
                            <>
                                <Link to="/login" className="nav-btn">–í–æ–π—Ç–∏</Link>
                                <Link to="/register" className="nav-btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</Link>
                            </>
                        )}
                    </div>
                </div>
            </nav>

            <section className="hero">
                <div className="hero-content">
                    <div className="hero-text">
                        <h1>–ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∑–∞–Ω—è—Ç–∏—è –¥–ª—è –º–ª–∞–¥—à–∏—Ö —à–∫–æ–ª—å–Ω–∏–∫–æ–≤</h1>
                        <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ –æ–±—É—á–µ–Ω–∏—é –¥–µ—Ç–µ–π —Å 1 –ø–æ 4 –∫–ª–∞—Å—Å—ã. –†–∞–∑–≤–∏–≤–∞—é—â–∏–µ –∑–∞–Ω—è—Ç–∏—è, –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —à–∫–æ–ª–µ, –ø–æ–º–æ—â—å —Å —É—á–µ–±–Ω–æ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π.</p>
                        <button className="cta-button">–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø—Ä–æ–±–Ω—ã–π —É—Ä–æ–∫</button>
                    </div>
                    <div className="hero-image">
                        <img src="/mom.jpg" alt="–û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞ - —Ä–µ–ø–µ—Ç–∏—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤" />
                    </div>
                </div>
            </section>

            <section className="about">
                <h2>–û–±–æ –º–Ω–µ</h2>
                <div className="about-content">
                    <div className="about-text">
                        <p>–Ø - –û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞, –ø–µ–¥–∞–≥–æ–≥ —Å 25-–ª–µ—Ç–Ω–∏–º —Å—Ç–∞–∂–µ–º —Ä–∞–±–æ—Ç—ã —Å –¥–µ—Ç—å–º–∏ –º–ª–∞–¥—à–µ–≥–æ —à–∫–æ–ª—å–Ω–æ–≥–æ –≤–æ–∑—Ä–∞—Å—Ç–∞.
                            –ó–∞–∫–æ–Ω—á–∏–ª–∞ –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–∏–π —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç —Å –∫—Ä–∞—Å–Ω—ã–º –¥–∏–ø–ª–æ–º–æ–º, —Ä–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ—Ö–æ–∂—É –∫—É—Ä—Å—ã –ø–æ–≤—ã—à–µ–Ω–∏—è –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏.</p>
                        <p>–í —Å–≤–æ–µ–π —Ä–∞–±–æ—Ç–µ –∏—Å–ø–æ–ª—å–∑—É—é —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–æ–¥–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è, –∏–≥—Ä–æ–≤—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∏ –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω
                            –∑–∞–Ω—è—Ç–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–µ–±–µ–Ω–∫–∞. –ü–æ–º–æ–≥–∞—é –Ω–µ —Ç–æ–ª—å–∫–æ —É—Å–≤–æ–∏—Ç—å —à–∫–æ–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É, –Ω–æ –∏ –ø–æ–ª—é–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è.</p>
                        <ul>
                            <li>‚úÖ –í—ã—Å—à–µ–µ –ø–µ–¥–∞–≥–æ–≥–∏—á–µ—Å–∫–æ–µ –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ</li>
                            <li>‚úÖ –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–º –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–∏</li>
                            <li>‚úÖ –û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã - 25 –ª–µ—Ç</li>
                            <li>‚úÖ –ë–æ–ª–µ–µ 1000 –¥–æ–≤–æ–ª—å–Ω—ã—Ö —É—á–µ–Ω–∏–∫–æ–≤</li>
                        </ul>
                    </div>
                    <div className="about-image">
                        <img src="/placeholder-about.jpg" alt="–û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞ –Ω–∞ –∑–∞–Ω—è—Ç–∏–∏ —Å —É—á–µ–Ω–∏–∫–æ–º" />
                    </div>
                </div>
            </section>

            {/* –£—Å–ª—É–≥–∏ */}
            <section className="services">
                <h2>–ú–æ–∏ —É—Å–ª—É–≥–∏</h2>
                <div className="services-grid">
                    {services.map((service, index) => (
                        <div key={index} className="service-card">
                            <h3>{service.title}</h3>
                            <p>{service.description}</p>
                        </div>
                    ))}
                </div>
            </section>

            {/* –û—Ç–∑—ã–≤—ã */}
            <section className="reviews">
                <h2>–û—Ç–∑—ã–≤—ã —Ä–æ–¥–∏—Ç–µ–ª–µ–π</h2>
                <div className="reviews-container">
                    <div className="review active">
                        <div className="stars">
                            {'‚òÖ'.repeat(reviews[currentReview].rating)}
                        </div>
                        <p className="review-text">"{reviews[currentReview].text}"</p>
                        <p className="review-author">- {reviews[currentReview].name}</p>
                    </div>
                </div>
                <div className="review-dots">
                    {reviews.map((_, index) => (
                        <span
                            key={index}
                            className={`dot ${index === currentReview ? 'active' : ''}`}
                            onClick={() => setCurrentReview(index)}
                        ></span>
                    ))}
                </div>
            </section>

            {/* –ö–æ–Ω—Ç–∞–∫—Ç—ã */}
            <section className="contact">
                <h2>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
                <div className="contact-info">
                    <p>üìû –¢–µ–ª–µ—Ñ–æ–Ω: +7 (924) 260-58-68</p>
                    <p>‚úâÔ∏è Email: helgabest80@mail.ru</p>
                    <p>üìç –ê–¥—Ä–µ—Å: –≥. –ù–æ–≤–æ—Ä–æ—Å—Å–∏–π—Å–∫, —É–ª. –ü—Ä–æ—Å–ø–µ–∫—Ç –î–∑–µ—Ä–∂–∏–Ω—Å–∫–æ–≥–æ, –¥. 247</p>
                    <p>üïí –í—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã: –ü–Ω-–ü—Ç —Å 9:00 –¥–æ 19:00</p>
                </div>
            </section>

            {/* –§—É—Ç–µ—Ä */}
            <footer className="footer">
                <p>¬© 2023 –û–ª—å–≥–∞ –ù–∏–∫–æ–ª–∞–µ–≤–Ω–∞. –†–µ–ø–µ—Ç–∏—Ç–æ—Ä –Ω–∞—á–∞–ª—å–Ω—ã—Ö –∫–ª–∞—Å—Å–æ–≤. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
            </footer>
        </div>
    );
};

export default HomePage;